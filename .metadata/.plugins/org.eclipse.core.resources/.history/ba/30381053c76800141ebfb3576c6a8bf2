package com.jet.project.service;

import java.util.List;

import org.json.simple.JSONObject;

import com.jet.project.dao.FeedsDAO;
import com.jet.project.entity.GoogleActivitiesEntity;
import com.jet.project.util.CustomUtil;
import com.jet.project.util.LogUtil;

public class GoogleActivitiesCRUD {
	GoogleActivitiesEntity gActEntity = new GoogleActivitiesEntity();
	
	public GoogleActivitiesCRUD(JSONObject entity){
		LogUtil.log("Mapping JSON data to Java object..");
		
		if(entity.get("id") != null){
			gActEntity.setId(Long.valueOf((String) entity.get("id")));
		}
		gActEntity.setDatePosted((String) entity.get("datePosted"));
		gActEntity.setMediaAttachment(CustomUtil.convertToBlob(entity.get("mediaAttachments")));
		gActEntity.setMessage((String) entity.get("message"));
		gActEntity.setPostId((String) entity.get("postId"));
		gActEntity.setProfileImageUrl((String) entity.get("profileImageUrl"));
		
		LogUtil.log("Done Mapping.");
	}
	
	public GoogleActivitiesCRUD(){}
	
	public List<GoogleActivitiesEntity> getAll(){
		List<GoogleActivitiesEntity> entities = FeedsDAO.INSTANCE.getAll(GoogleActivitiesEntity.class);
		return entities;
	}
	
	public void save(){
		FeedsDAO.INSTANCE.save(gActEntity);
	}
	
	public void remove(){
		FeedsDAO.INSTANCE.remove(GoogleActivitiesEntity.class, gActEntity.getId());
	}
	
	
}
